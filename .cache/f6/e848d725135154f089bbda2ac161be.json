{"id":"FfNe","dependencies":[{"name":"/Users/xin.jin/Documents/power-up/trello-demo/package.json","includedInParent":true,"mtime":1639539042504}],"generated":{"js":"console.log(\"Hello World!\");var e=window.TrelloPowerUp.iframe(),n=e.getContext();console.log(\"context=\",n);var t=e.get(n.card,\"shared\",\"demandChangeCount\").then(function(e){t=e||0,showDemandChangeCount(\"total changes: \".concat(t))}),o=function(e,n){return console.log(\"Someone clicked the button\"),e.popup({title:\"Demand Change\",url:\"./cardButtonRecordChanges.html\"})},a=function(e,n){return[{text:\"Demand Changes\",icon:\"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Emoji_u1f601.svg/2048px-Emoji_u1f601.svg.png\",callback:o,condition:\"edit\"},{text:\"Open\",condition:\"always\",target:\"Trello Developer Site\"}]};window.TrelloPowerUp.initialize({\"board-buttons\":function(e,n){return[{text:\"Requirement Changes\",callback:e.modal({title:\"Requirement Changes Analysis\",fullscreen:!0})}]},\"card-badges\":function(e,n){e.get();e.card(\"attachments\");return e.card(\"name\").get(\"name\").then(function(e){return console.log(\"card name  \"+e),[{dynamic:function(){return{text:\"Dynamic\"+(100*Math.random()).toFixed(0).toString(),color:\"green\",refresh:10}}},{text:\"Static\",color:null}]})},\"card-buttons\":a,\"card-detail-badges\":function(e,n){return e.card(\"name\").get(\"name\").then(function(e){return[{dynamic:function(){return{title:\"Changes\",text:t.toString(),color:\"red\",refresh:10}}}]})}});"},"sourceMaps":{"js":{"mappings":[{"source":"../js/connector.js","name":"console","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../js/connector.js","name":"log","original":{"line":1,"column":8},"generated":{"line":1,"column":8}},{"source":"../js/connector.js","original":{"line":1,"column":12},"generated":{"line":1,"column":12}},{"source":"../js/connector.js","original":{"line":3,"column":0},"generated":{"line":1,"column":28}},{"source":"../js/connector.js","name":"t","original":{"line":3,"column":6},"generated":{"line":1,"column":32}},{"source":"../js/connector.js","name":"window","original":{"line":3,"column":10},"generated":{"line":1,"column":34}},{"source":"../js/connector.js","name":"TrelloPowerUp","original":{"line":3,"column":17},"generated":{"line":1,"column":41}},{"source":"../js/connector.js","name":"iframe","original":{"line":3,"column":31},"generated":{"line":1,"column":55}},{"source":"../js/connector.js","name":"context","original":{"line":4,"column":6},"generated":{"line":1,"column":64}},{"source":"../js/connector.js","name":"t","original":{"line":4,"column":16},"generated":{"line":1,"column":66}},{"source":"../js/connector.js","name":"getContext","original":{"line":4,"column":18},"generated":{"line":1,"column":68}},{"source":"../js/connector.js","name":"console","original":{"line":5,"column":0},"generated":{"line":1,"column":81}},{"source":"../js/connector.js","name":"log","original":{"line":5,"column":8},"generated":{"line":1,"column":89}},{"source":"../js/connector.js","original":{"line":5,"column":12},"generated":{"line":1,"column":93}},{"source":"../js/connector.js","name":"context","original":{"line":5,"column":23},"generated":{"line":1,"column":104}},{"source":"../js/connector.js","original":{"line":6,"column":0},"generated":{"line":1,"column":107}},{"source":"../js/connector.js","name":"demandChangeCount","original":{"line":6,"column":4},"generated":{"line":1,"column":111}},{"source":"../js/connector.js","name":"t","original":{"line":6,"column":24},"generated":{"line":1,"column":113}},{"source":"../js/connector.js","name":"get","original":{"line":6,"column":26},"generated":{"line":1,"column":115}},{"source":"../js/connector.js","name":"context","original":{"line":6,"column":30},"generated":{"line":1,"column":119}},{"source":"../js/connector.js","name":"card","original":{"line":6,"column":38},"generated":{"line":1,"column":121}},{"source":"../js/connector.js","original":{"line":6,"column":44},"generated":{"line":1,"column":126}},{"source":"../js/connector.js","original":{"line":6,"column":54},"generated":{"line":1,"column":135}},{"source":"../js/connector.js","name":"then","original":{"line":6,"column":75},"generated":{"line":1,"column":156}},{"source":"../js/connector.js","original":{"line":6,"column":80},"generated":{"line":1,"column":161}},{"source":"../js/connector.js","name":"demandChangeCountInResponse","original":{"line":6,"column":80},"generated":{"line":1,"column":170}},{"source":"../js/connector.js","name":"demandChangeCount","original":{"line":7,"column":2},"generated":{"line":1,"column":173}},{"source":"../js/connector.js","name":"demandChangeCountInResponse","original":{"line":7,"column":22},"generated":{"line":1,"column":175}},{"source":"../js/connector.js","original":{"line":7,"column":82},"generated":{"line":1,"column":178}},{"source":"../js/connector.js","name":"showDemandChangeCount","original":{"line":8,"column":2},"generated":{"line":1,"column":180}},{"source":"../js/connector.js","name":"demandChangeCount","original":{"line":8,"column":42},"generated":{"line":1,"column":202}},{"source":"../js/connector.js","name":"demandChangeCount","original":{"line":8,"column":42},"generated":{"line":1,"column":220}},{"source":"../js/connector.js","name":"demandChangeCount","original":{"line":8,"column":42},"generated":{"line":1,"column":227}},{"source":"../js/connector.js","name":"onBtnClick","original":{"line":14,"column":6},"generated":{"line":1,"column":233}},{"source":"../js/connector.js","original":{"line":14,"column":19},"generated":{"line":1,"column":235}},{"source":"../js/connector.js","name":"t","original":{"line":14,"column":28},"generated":{"line":1,"column":244}},{"source":"../js/connector.js","name":"opts","original":{"line":14,"column":31},"generated":{"line":1,"column":246}},{"source":"../js/connector.js","name":"t","original":{"line":16,"column":9},"generated":{"line":1,"column":249}},{"source":"../js/connector.js","name":"console","original":{"line":15,"column":2},"generated":{"line":1,"column":256}},{"source":"../js/connector.js","name":"log","original":{"line":15,"column":10},"generated":{"line":1,"column":264}},{"source":"../js/connector.js","original":{"line":15,"column":14},"generated":{"line":1,"column":268}},{"source":"../js/connector.js","name":"t","original":{"line":16,"column":9},"generated":{"line":1,"column":298}},{"source":"../js/connector.js","name":"popup","original":{"line":16,"column":11},"generated":{"line":1,"column":300}},{"source":"../js/connector.js","original":{"line":16,"column":17},"generated":{"line":1,"column":306}},{"source":"../js/connector.js","name":"title","original":{"line":17,"column":4},"generated":{"line":1,"column":307}},{"source":"../js/connector.js","original":{"line":17,"column":11},"generated":{"line":1,"column":313}},{"source":"../js/connector.js","name":"url","original":{"line":18,"column":4},"generated":{"line":1,"column":329}},{"source":"../js/connector.js","original":{"line":18,"column":9},"generated":{"line":1,"column":333}},{"source":"../js/connector.js","name":"cardButtons","original":{"line":22,"column":6},"generated":{"line":1,"column":369}},{"source":"../js/connector.js","original":{"line":22,"column":20},"generated":{"line":1,"column":371}},{"source":"../js/connector.js","name":"t","original":{"line":22,"column":29},"generated":{"line":1,"column":380}},{"source":"../js/connector.js","name":"opts","original":{"line":22,"column":32},"generated":{"line":1,"column":382}},{"source":"../js/connector.js","original":{"line":23,"column":9},"generated":{"line":1,"column":385}},{"source":"../js/connector.js","original":{"line":23,"column":9},"generated":{"line":1,"column":391}},{"source":"../js/connector.js","original":{"line":23,"column":10},"generated":{"line":1,"column":392}},{"source":"../js/connector.js","name":"text","original":{"line":24,"column":4},"generated":{"line":1,"column":393}},{"source":"../js/connector.js","original":{"line":24,"column":10},"generated":{"line":1,"column":398}},{"source":"../js/connector.js","name":"icon","original":{"line":25,"column":4},"generated":{"line":1,"column":415}},{"source":"../js/connector.js","original":{"line":25,"column":10},"generated":{"line":1,"column":420}},{"source":"../js/connector.js","name":"callback","original":{"line":26,"column":4},"generated":{"line":1,"column":525}},{"source":"../js/connector.js","name":"onBtnClick","original":{"line":26,"column":14},"generated":{"line":1,"column":534}},{"source":"../js/connector.js","name":"condition","original":{"line":27,"column":4},"generated":{"line":1,"column":536}},{"source":"../js/connector.js","original":{"line":27,"column":15},"generated":{"line":1,"column":546}},{"source":"../js/connector.js","original":{"line":28,"column":5},"generated":{"line":1,"column":554}},{"source":"../js/connector.js","name":"text","original":{"line":29,"column":4},"generated":{"line":1,"column":555}},{"source":"../js/connector.js","original":{"line":29,"column":10},"generated":{"line":1,"column":560}},{"source":"../js/connector.js","name":"condition","original":{"line":30,"column":4},"generated":{"line":1,"column":567}},{"source":"../js/connector.js","original":{"line":30,"column":15},"generated":{"line":1,"column":577}},{"source":"../js/connector.js","name":"target","original":{"line":31,"column":4},"generated":{"line":1,"column":586}},{"source":"../js/connector.js","original":{"line":31,"column":12},"generated":{"line":1,"column":593}},{"source":"../js/connector.js","name":"window","original":{"line":35,"column":0},"generated":{"line":1,"column":620}},{"source":"../js/connector.js","name":"TrelloPowerUp","original":{"line":35,"column":7},"generated":{"line":1,"column":627}},{"source":"../js/connector.js","name":"initialize","original":{"line":35,"column":21},"generated":{"line":1,"column":641}},{"source":"../js/connector.js","original":{"line":36,"column":2},"generated":{"line":1,"column":652}},{"source":"../js/connector.js","original":{"line":37,"column":20},"generated":{"line":1,"column":653}},{"source":"../js/connector.js","original":{"line":37,"column":20},"generated":{"line":1,"column":669}},{"source":"../js/connector.js","name":"t","original":{"line":37,"column":30},"generated":{"line":1,"column":678}},{"source":"../js/connector.js","name":"opts","original":{"line":37,"column":33},"generated":{"line":1,"column":680}},{"source":"../js/connector.js","original":{"line":38,"column":13},"generated":{"line":1,"column":683}},{"source":"../js/connector.js","original":{"line":38,"column":13},"generated":{"line":1,"column":689}},{"source":"../js/connector.js","original":{"line":38,"column":14},"generated":{"line":1,"column":690}},{"source":"../js/connector.js","name":"text","original":{"line":39,"column":8},"generated":{"line":1,"column":691}},{"source":"../js/connector.js","original":{"line":39,"column":13},"generated":{"line":1,"column":696}},{"source":"../js/connector.js","name":"callback","original":{"line":40,"column":8},"generated":{"line":1,"column":718}},{"source":"../js/connector.js","name":"t","original":{"line":40,"column":17},"generated":{"line":1,"column":727}},{"source":"../js/connector.js","name":"modal","original":{"line":40,"column":19},"generated":{"line":1,"column":729}},{"source":"../js/connector.js","original":{"line":40,"column":25},"generated":{"line":1,"column":735}},{"source":"../js/connector.js","name":"title","original":{"line":41,"column":10},"generated":{"line":1,"column":736}},{"source":"../js/connector.js","original":{"line":41,"column":16},"generated":{"line":1,"column":742}},{"source":"../js/connector.js","name":"fullscreen","original":{"line":42,"column":10},"generated":{"line":1,"column":773}},{"source":"../js/connector.js","original":{"line":42,"column":21},"generated":{"line":1,"column":785}},{"source":"../js/connector.js","original":{"line":46,"column":19},"generated":{"line":1,"column":792}},{"source":"../js/connector.js","original":{"line":46,"column":19},"generated":{"line":1,"column":806}},{"source":"../js/connector.js","name":"t","original":{"line":46,"column":28},"generated":{"line":1,"column":815}},{"source":"../js/connector.js","name":"opts","original":{"line":46,"column":31},"generated":{"line":1,"column":817}},{"source":"../js/connector.js","name":"t","original":{"line":47,"column":6},"generated":{"line":1,"column":820}},{"source":"../js/connector.js","name":"get","original":{"line":47,"column":8},"generated":{"line":1,"column":822}},{"source":"../js/connector.js","name":"t","original":{"line":48,"column":28},"generated":{"line":1,"column":828}},{"source":"../js/connector.js","name":"card","original":{"line":48,"column":30},"generated":{"line":1,"column":830}},{"source":"../js/connector.js","original":{"line":48,"column":35},"generated":{"line":1,"column":835}},{"source":"../js/connector.js","name":"t","original":{"line":50,"column":13},"generated":{"line":1,"column":850}},{"source":"../js/connector.js","name":"t","original":{"line":50,"column":13},"generated":{"line":1,"column":857}},{"source":"../js/connector.js","name":"card","original":{"line":50,"column":15},"generated":{"line":1,"column":859}},{"source":"../js/connector.js","original":{"line":50,"column":20},"generated":{"line":1,"column":864}},{"source":"../js/connector.js","name":"get","original":{"line":51,"column":9},"generated":{"line":1,"column":872}},{"source":"../js/connector.js","original":{"line":51,"column":13},"generated":{"line":1,"column":876}},{"source":"../js/connector.js","name":"then","original":{"line":52,"column":9},"generated":{"line":1,"column":884}},{"source":"../js/connector.js","original":{"line":52,"column":14},"generated":{"line":1,"column":889}},{"source":"../js/connector.js","name":"cardName","original":{"line":52,"column":23},"generated":{"line":1,"column":898}},{"source":"../js/connector.js","original":{"line":54,"column":15},"generated":{"line":1,"column":901}},{"source":"../js/connector.js","name":"console","original":{"line":53,"column":8},"generated":{"line":1,"column":908}},{"source":"../js/connector.js","name":"log","original":{"line":53,"column":16},"generated":{"line":1,"column":916}},{"source":"../js/connector.js","original":{"line":53,"column":20},"generated":{"line":1,"column":920}},{"source":"../js/connector.js","name":"cardName","original":{"line":53,"column":36},"generated":{"line":1,"column":934}},{"source":"../js/connector.js","original":{"line":54,"column":15},"generated":{"line":1,"column":937}},{"source":"../js/connector.js","original":{"line":55,"column":10},"generated":{"line":1,"column":938}},{"source":"../js/connector.js","name":"dynamic","original":{"line":56,"column":10},"generated":{"line":1,"column":939}},{"source":"../js/connector.js","original":{"line":56,"column":19},"generated":{"line":1,"column":947}},{"source":"../js/connector.js","original":{"line":57,"column":19},"generated":{"line":1,"column":958}},{"source":"../js/connector.js","original":{"line":57,"column":19},"generated":{"line":1,"column":964}},{"source":"../js/connector.js","name":"text","original":{"line":58,"column":14},"generated":{"line":1,"column":965}},{"source":"../js/connector.js","original":{"line":58,"column":20},"generated":{"line":1,"column":970}},{"source":"../js/connector.js","original":{"line":58,"column":49},"generated":{"line":1,"column":981}},{"source":"../js/connector.js","name":"Math","original":{"line":58,"column":33},"generated":{"line":1,"column":985}},{"source":"../js/connector.js","name":"random","original":{"line":58,"column":38},"generated":{"line":1,"column":990}},{"source":"../js/connector.js","name":"toFixed","original":{"line":58,"column":54},"generated":{"line":1,"column":1000}},{"source":"../js/connector.js","original":{"line":58,"column":62},"generated":{"line":1,"column":1008}},{"source":"../js/connector.js","name":"toString","original":{"line":58,"column":65},"generated":{"line":1,"column":1011}},{"source":"../js/connector.js","name":"color","original":{"line":59,"column":14},"generated":{"line":1,"column":1022}},{"source":"../js/connector.js","original":{"line":59,"column":21},"generated":{"line":1,"column":1028}},{"source":"../js/connector.js","name":"refresh","original":{"line":60,"column":14},"generated":{"line":1,"column":1036}},{"source":"../js/connector.js","original":{"line":60,"column":23},"generated":{"line":1,"column":1044}},{"source":"../js/connector.js","original":{"line":64,"column":10},"generated":{"line":1,"column":1050}},{"source":"../js/connector.js","name":"text","original":{"line":65,"column":12},"generated":{"line":1,"column":1051}},{"source":"../js/connector.js","original":{"line":65,"column":18},"generated":{"line":1,"column":1056}},{"source":"../js/connector.js","name":"color","original":{"line":66,"column":12},"generated":{"line":1,"column":1065}},{"source":"../js/connector.js","original":{"line":66,"column":19},"generated":{"line":1,"column":1071}},{"source":"../js/connector.js","name":"cardButtons","original":{"line":70,"column":20},"generated":{"line":1,"column":1081}},{"source":"../js/connector.js","name":"cardButtons","original":{"line":70,"column":20},"generated":{"line":1,"column":1096}},{"source":"../js/connector.js","original":{"line":71,"column":26},"generated":{"line":1,"column":1098}},{"source":"../js/connector.js","original":{"line":71,"column":26},"generated":{"line":1,"column":1119}},{"source":"../js/connector.js","name":"t","original":{"line":71,"column":36},"generated":{"line":1,"column":1128}},{"source":"../js/connector.js","name":"opts","original":{"line":71,"column":39},"generated":{"line":1,"column":1130}},{"source":"../js/connector.js","name":"t","original":{"line":72,"column":13},"generated":{"line":1,"column":1133}},{"source":"../js/connector.js","name":"t","original":{"line":72,"column":13},"generated":{"line":1,"column":1140}},{"source":"../js/connector.js","name":"card","original":{"line":72,"column":15},"generated":{"line":1,"column":1142}},{"source":"../js/connector.js","original":{"line":72,"column":20},"generated":{"line":1,"column":1147}},{"source":"../js/connector.js","name":"get","original":{"line":73,"column":11},"generated":{"line":1,"column":1155}},{"source":"../js/connector.js","original":{"line":73,"column":15},"generated":{"line":1,"column":1159}},{"source":"../js/connector.js","name":"then","original":{"line":74,"column":11},"generated":{"line":1,"column":1167}},{"source":"../js/connector.js","original":{"line":74,"column":16},"generated":{"line":1,"column":1172}},{"source":"../js/connector.js","name":"cardName","original":{"line":74,"column":26},"generated":{"line":1,"column":1181}},{"source":"../js/connector.js","original":{"line":75,"column":19},"generated":{"line":1,"column":1184}},{"source":"../js/connector.js","original":{"line":75,"column":19},"generated":{"line":1,"column":1190}},{"source":"../js/connector.js","original":{"line":75,"column":20},"generated":{"line":1,"column":1191}},{"source":"../js/connector.js","name":"dynamic","original":{"line":76,"column":14},"generated":{"line":1,"column":1192}},{"source":"../js/connector.js","original":{"line":76,"column":23},"generated":{"line":1,"column":1200}},{"source":"../js/connector.js","original":{"line":77,"column":23},"generated":{"line":1,"column":1211}},{"source":"../js/connector.js","original":{"line":77,"column":23},"generated":{"line":1,"column":1217}},{"source":"../js/connector.js","name":"title","original":{"line":78,"column":18},"generated":{"line":1,"column":1218}},{"source":"../js/connector.js","original":{"line":78,"column":25},"generated":{"line":1,"column":1224}},{"source":"../js/connector.js","name":"text","original":{"line":79,"column":18},"generated":{"line":1,"column":1234}},{"source":"../js/connector.js","name":"demandChangeCount","original":{"line":79,"column":24},"generated":{"line":1,"column":1239}},{"source":"../js/connector.js","name":"toString","original":{"line":79,"column":42},"generated":{"line":1,"column":1241}},{"source":"../js/connector.js","name":"color","original":{"line":80,"column":18},"generated":{"line":1,"column":1252}},{"source":"../js/connector.js","original":{"line":80,"column":25},"generated":{"line":1,"column":1258}},{"source":"../js/connector.js","name":"refresh","original":{"line":81,"column":18},"generated":{"line":1,"column":1264}},{"source":"../js/connector.js","original":{"line":81,"column":27},"generated":{"line":1,"column":1272}}],"sources":{"../js/connector.js":"console.log('Hello World!');\n\nconst t = window.TrelloPowerUp.iframe();\nconst context = t.getContext();\nconsole.log(\"context=\",context);\nlet demandChangeCount = t.get(context.card, 'shared', 'demandChangeCount').then(demandChangeCountInResponse => {\n  demandChangeCount = demandChangeCountInResponse ? demandChangeCountInResponse : 0;\n  showDemandChangeCount(`total changes: ${demandChangeCount}`);\n});\n// const onSaveBtnClicked = function (t, opts) {\n//   changingTimes = changingTimes + 1;\n// }\n\nconst onBtnClick = function(t, opts) {\n  console.log('Someone clicked the button');\n  return t.popup({\n    title: 'Demand Change',\n    url: './cardButtonRecordChanges.html'\n  });\n};\n\nconst cardButtons = function(t, opts) {\n  return [{\n    text: 'Demand Changes',\n    icon: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Emoji_u1f601.svg/2048px-Emoji_u1f601.svg.png',\n    callback: onBtnClick,\n    condition: 'edit'\n  }, {\n    text: 'Open',\n    condition: 'always',\n    target: 'Trello Developer Site'\n  }];\n}\n\nwindow.TrelloPowerUp.initialize(\n  {\n    'board-buttons':function (t, opts) {\n      return [{\n        text:'Requirement Changes',\n        callback:t.modal({\n          title:'Requirement Changes Analysis',\n          fullscreen:true,\n        })\n      }];\n    },\n    'card-badges': function(t, opts) {\n      t.get();\n      let cardAttachments = t.card('attachments');\n      // let cardAttachments = opts.attachments;\n      return t.card(\"name\")\n        .get(\"name\")\n        .then(function(cardName) {\n        console.log('card name  ' + cardName);\n        return [\n          {\n          dynamic: function() {\n            return {\n              text: \"Dynamic\" + (Math.random() * 100).toFixed(0).toString(),\n              color: \"green\",\n              refresh: 10,\n            };\n          },\n        },\n          {\n            text: \"Static\",\n            color: null,\n          }];\n      });\n    },\n    'card-buttons': cardButtons,\n    'card-detail-badges': function (t, opts) {\n      return t.card('name')\n          .get('name')\n          .then(function (cardName) {\n            return [{\n              dynamic: function () {\n                return {\n                  title: 'Changes',\n                  text: demandChangeCount.toString(),\n                  color: 'red',\n                  refresh: 10\n                };\n              },\n            }]\n          })\n    },\n  }\n);\n"},"lineCount":null}},"error":null,"hash":"c7c520b1670a53db12cfea07e21d12b2","cacheData":{"env":{}}}